# 录制页面 (Record Page) PRD

## 1. 页面概述

录制页面是 LazyAud.io 的核心功能页面，用于配置和启动音频录制。

## 2. 页面布局

### 2.1 基础布局

```
┌─────────────────────────────────────────┐
│ 🎙️ 新建录制                              │
├─────────────────────────────────────────┤
│ 音频源选择                                │
│ ○ 系统音频  ○ 应用音频                    │
│ ☐ 同时录制麦克风                          │
├─────────────────────────────────────────┤
│ 应用选择 (当选择应用音频时显示)             │
│ [下拉菜单: 选择应用...]                    │
├─────────────────────────────────────────┤
│ 录制标题                                  │
│ [输入框: 会议记录 - 2024.01.15]           │
├─────────────────────────────────────────┤
│ 保存位置                                  │
│ [~/Documents/LazyAud] [选择文件夹...]     │
├─────────────────────────────────────────┤
│           [🔴 开始录制]                   │
└─────────────────────────────────────────┘
```

## 3. 功能组件详细说明

### 3.1 音频源选择器

#### 3.1.1 系统音频选项
- **功能**：录制整个系统的音频输出
- **交互**：
  - 点击单选按钮选择
  - 显示实时音频电平
  - 显示当前系统音量

#### 3.1.2 应用音频选项
- **功能**：录制特定应用的音频输出
- **交互**：
  - 点击单选按钮选择
  - 显示应用选择下拉菜单
  - 实时更新应用列表
  - 显示应用图标和名称

#### 3.1.3 麦克风录制选项
- **功能**：同时录制麦克风输入
- **交互**：
  - 复选框控制
  - 显示麦克风实时电平
  - 显示当前选择的麦克风设备

### 3.2 应用选择器

#### 3.2.1 下拉菜单
- **功能**：选择要录制的应用
- **交互**：
  - 点击展开应用列表
  - 显示应用图标和名称
  - 支持搜索过滤
  - 显示应用当前状态（运行中/未运行）

#### 3.2.2 应用列表项
- **显示内容**：
  - 应用图标
  - 应用名称
  - 运行状态指示器
  - 音频活动指示器

### 3.3 录制配置

#### 3.3.1 标题输入
- **功能**：设置录制文件标题
- **交互**：
  - 文本输入框
  - 默认值：录制 + 时间戳
  - 支持自定义输入
  - 实时验证（不允许特殊字符）

#### 3.3.2 保存位置
- **功能**：设置录制文件保存位置
- **交互**：
  - 显示当前保存路径
  - 文件夹选择按钮
  - 支持拖放设置
  - 显示可用空间

### 3.4 录制控制

#### 3.4.1 开始录制按钮
- **功能**：启动/停止录制
- **交互**：
  - 大号醒目按钮
  - 录制中状态变化
  - 显示录制时长
  - 显示文件大小

## 4. 状态变化

### 4.1 录制前状态

```
┌─────────────────────────────────────────┐
│ 🎙️ 新建录制                              │
├─────────────────────────────────────────┤
│ 音频源选择                                │
│ ○ 系统音频  ○ 应用音频                    │
│ ☐ 同时录制麦克风                          │
├─────────────────────────────────────────┤
│ 应用选择 (当选择应用音频时显示)             │
│ [下拉菜单: 选择应用...]                    │
├─────────────────────────────────────────┤
│ 录制标题                                  │
│ [输入框: 会议记录 - 2024.01.15]           │
├─────────────────────────────────────────┤
│ 保存位置                                  │
│ [~/Documents/LazyAud] [选择文件夹...]     │
├─────────────────────────────────────────┤
│           [🔴 开始录制]                   │
└─────────────────────────────────────────┘
```

### 4.2 录制中状态

```
┌─────────────────────────────────────────┐
│ 🔴 正在录制 - 会议记录                    │
├─────────────────────────────────────────┤
│ 录制时长: 00:05:32                       │
│ 文件大小: 12.3 MB                        │
├─────────────────────────────────────────┤
│ 音频波形 ████▌░░░░░░                     │
│ 系统音频: ████████░░                     │
│ 麦克风: ██░░░░░░░░░░                      │
├─────────────────────────────────────────┤
│ [⏸️ 暂停] [⏹️ 停止] [⚙️ 设置]             │
└─────────────────────────────────────────┘
```

## 5. 交互行为

### 5.1 权限检查
- 启动时检查必要权限
- 权限缺失时显示引导提示
- 提供快速跳转到系统设置

### 5.2 音频预览
- 实时显示音频电平
- 支持静音检测
- 显示音频质量指示

### 5.3 录制控制
- 开始/暂停/停止录制
- 显示录制进度
- 显示文件大小
- 支持快捷键控制

### 5.4 错误处理
- 权限错误提示
- 存储空间不足提示
- 音频设备错误提示
- 提供错误解决建议

## 6. 快捷键支持

- `Cmd+R`：开始/停止录制
- `Cmd+P`：暂停/继续录制
- `Space`：暂停/继续录制
- `Esc`：停止录制

## 7. 状态栏集成

- 显示录制状态
- 显示录制时长
- 快速控制按钮
- 显示文件大小

## 8. 性能要求

- 启动时间 < 1s
- 音频延迟 < 100ms
- CPU 使用率 < 30%
- 内存使用 < 200MB 