# 历史页面 (History Page) PRD

## 1. 页面概述

历史页面用于管理和查看所有录制内容，提供搜索、筛选、播放和编辑功能。

## 2. 页面布局

### 2.1 基础布局

```
┌─────────────────────────────────────────┐
│ 📚 录制历史                              │
├─────────────────────────────────────────┤
│ [搜索框] [筛选▼] [排序▼] [导出]          │
├─────────────────────────────────────────┤
│ 录制列表                                  │
│ ┌─────────────────────────────────────┐ │
│ │ 📁 会议记录 - 2024.01.15             │
│ │    2024-01-15 14:30 | 1h 23m | 45MB │
│ │    转录: 完成 | AI: 已处理            │
│ │    [▶️] [📝] [🗑️]                    │
│ ├─────────────────────────────────────┤ │
│ │ 📁 培训视频录制                      │
│ │    2024-01-14 09:15 | 2h 15m | 78MB │
│ │    转录: 完成 | AI: 未处理            │
│ │    [▶️] [📝] [🗑️]                    │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

## 3. 功能组件详细说明

### 3.1 搜索和筛选栏

#### 3.1.1 搜索框
- **功能**：搜索录制内容
- **搜索范围**：
  - 标题
  - 转录文本
  - 标签
  - 日期
- **特性**：
  - 实时搜索
  - 高亮匹配
  - 搜索历史
  - 高级搜索

#### 3.1.2 筛选器
- **功能**：按条件筛选
- **筛选条件**：
  - 日期范围
  - 时长范围
  - 文件大小
  - 转录状态
  - AI 处理状态
  - 标签

#### 3.1.3 排序选项
- **功能**：排序显示
- **排序方式**：
  - 时间（新/旧）
  - 时长（长/短）
  - 大小（大/小）
  - 名称（A-Z）

### 3.2 录制列表

#### 3.2.1 列表项
- **显示内容**：
  - 标题
  - 日期时间
  - 时长
  - 文件大小
  - 转录状态
  - AI 处理状态
  - 操作按钮

#### 3.2.2 选中效果
- **视觉反馈**：
  - 背景色变化（浅蓝色 #E8F0FE）
  - 左侧边框高亮（蓝色 #1A73E8）
  - 轻微阴影效果
  - 操作按钮显示

- **交互状态**：
  - 悬停状态：
    - 背景色变为 #F5F5F5
    - 显示快速操作按钮
    - 鼠标指针变为手型
  
  - 选中状态：
    - 背景色变为 #E8F0FE
    - 左侧边框高亮
    - 显示完整操作按钮组
    - 支持键盘导航

  - 多选状态：
    - 显示选中计数
    - 批量操作工具栏
    - 支持 Shift 多选
    - 支持 Ctrl/Cmd 点选

- **操作按钮显示**：
  - 未选中：仅显示图标
  - 悬停：显示图标和文字提示
  - 选中：显示完整按钮组
  - 多选：显示批量操作按钮

#### 3.2.3 操作按钮
- **播放按钮**：
  - 播放/暂停
  - 显示进度
  - 音量控制
- **查看按钮**：
  - 查看详情
  - 编辑信息
  - 导出选项
- **删除按钮**：
  - 删除确认
  - 批量删除
  - 回收站

### 3.3 详情视图

#### 3.3.1 基本信息
- **显示内容**：
  - 标题
  - 创建时间
  - 时长
  - 文件大小
  - 保存位置
  - 标签

#### 3.3.2 音频播放器
- **功能**：
  - 播放控制
  - 进度条
  - 音量控制
  - 播放速度
  - 循环播放

#### 3.3.3 转录内容
- **显示内容**：
  - 时间戳
  - 转录文本
  - 置信度
  - 编辑选项

#### 3.3.4 AI 处理结果
- **显示内容**：
  - 摘要
  - 任务列表
  - 关键词
  - 情感分析

## 4. 状态变化

### 4.1 列表视图

```
┌─────────────────────────────────────────┐
│ 📚 录制历史                              │
├─────────────────────────────────────────┤
│ [搜索框] [筛选▼] [排序▼] [导出]          │
├─────────────────────────────────────────┤
│ 录制列表                                  │
│ ┌─────────────────────────────────────┐ │
│ │ 📁 会议记录 - 2024.01.15             │
│ │    2024-01-15 14:30 | 1h 23m | 45MB │
│ │    转录: 完成 | AI: 已处理            │
│ │    [▶️] [📝] [🗑️]                    │
│ ├─────────────────────────────────────┤ │
│ │ 📁 培训视频录制                      │
│ │    2024-01-14 09:15 | 2h 15m | 78MB │
│ │    转录: 完成 | AI: 未处理            │
│ │    [▶️] [📝] [🗑️]                    │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### 4.2 选中状态

```
┌─────────────────────────────────────────┐
│ 📚 录制历史                              │
├─────────────────────────────────────────┤
│ [搜索框] [筛选▼] [排序▼] [导出]          │
├─────────────────────────────────────────┤
│ 录制列表                                  │
│ ┌─────────────────────────────────────┐ │
│ │ 📁 会议记录 - 2024.01.15             │
│ │    2024-01-15 14:30 | 1h 23m | 45MB │
│ │    转录: 完成 | AI: 已处理            │
│ │    [▶️ 播放] [📝 编辑] [🗑️ 删除]      │
│ ├─────────────────────────────────────┤ │
│ │ 📁 培训视频录制                      │
│ │    2024-01-14 09:15 | 2h 15m | 78MB │
│ │    转录: 完成 | AI: 未处理            │
│ │    [▶️] [📝] [🗑️]                    │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### 4.3 多选状态

```
┌─────────────────────────────────────────┐
│ 📚 录制历史                              │
├─────────────────────────────────────────┤
│ [搜索框] [筛选▼] [排序▼] [导出]          │
├─────────────────────────────────────────┤
│ 已选择 2 个项目                           │
│ [批量导出] [批量删除] [批量处理]          │
├─────────────────────────────────────────┤
│ 录制列表                                  │
│ ┌─────────────────────────────────────┐ │
│ │ ☑️ 📁 会议记录 - 2024.01.15          │
│ │    2024-01-15 14:30 | 1h 23m | 45MB │
│ │    转录: 完成 | AI: 已处理            │
│ ├─────────────────────────────────────┤ │
│ │ ☑️ 📁 培训视频录制                    │
│ │    2024-01-14 09:15 | 2h 15m | 78MB │
│ │    转录: 完成 | AI: 未处理            │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### 4.4 详情视图

```
┌─────────────────────────────────────────┐
│ ← 返回 | 会议记录 - 2024.01.15           │
├─────────────────────────────────────────┤
│ 基本信息                                  │
│ 创建时间: 2024-01-15 14:30               │
│ 时长: 1h 23m | 大小: 45MB                │
│ 保存位置: ~/Documents/LazyAud/           │
│ 标签: [会议] [项目讨论] [重要]            │
├─────────────────────────────────────────┤
│ 音频播放器                                │
│ ▶️ ─────────●──────── 01:23 / 01:23:45   │
│ 🔊 ─────────●──────── 80%                 │
│ [⏮️] [⏪] [▶️] [⏩] [⏭️] [🔁] [1.0x]      │
├─────────────────────────────────────────┤
│ 标签页: [📝 转录] [📋 摘要] [✅ 任务]      │
├─────────────────────────────────────────┤
│ 转录内容                                  │
│ [00:01:23] 今天我们来讨论一下...          │
│ [00:01:45] 关于这个项目的进展情况         │
│ [00:02:10] 我认为我们需要...              │
│ [00:02:30] 是的，我同意你的观点           │
├─────────────────────────────────────────┤
│ [导出] [编辑] [重新AI处理] [分享]          │
└─────────────────────────────────────────┘
```

### 4.5 标签页内容

#### 4.5.1 转录标签页
```
┌─────────────────────────────────────────┐
│ 转录内容                                  │
├─────────────────────────────────────────┤
│ [00:01:23] 今天我们来讨论一下...          │
│ [00:01:45] 关于这个项目的进展情况         │
│ [00:02:10] 我认为我们需要...              │
│ [00:02:30] 是的，我同意你的观点           │
│                                         │
│ 操作: [编辑] [复制] [搜索] [导出]          │
└─────────────────────────────────────────┘
```

#### 4.5.2 摘要标签页
```
┌─────────────────────────────────────────┐
│ 内容摘要                                  │
├─────────────────────────────────────────┤
│ 主要议题：                               │
│ 1. 项目进展情况回顾                      │
│ 2. 存在的问题和挑战                      │
│ 3. 下一步行动计划                        │
│                                         │
│ 关键决策：                               │
│ - 调整项目时间线                         │
│ - 增加资源投入                           │
│                                         │
│ [重新生成] [编辑] [导出]                  │
└─────────────────────────────────────────┘
```

#### 4.5.3 任务标签页
```
┌─────────────────────────────────────────┐
│ 待办任务                                  │
├─────────────────────────────────────────┤
│ ☐ 更新项目时间线                         │
│   负责人: 张三                            │
│   截止日期: 2024-01-20                   │
│                                         │
│ ☐ 准备资源申请报告                       │
│   负责人: 李四                            │
│   截止日期: 2024-01-18                   │
│                                         │
│ [添加任务] [导出] [同步到日历]            │
└─────────────────────────────────────────┘
```

## 5. 交互行为

### 5.1 列表操作
- 选择项目
- 拖拽排序
- 批量操作
- 右键菜单

### 5.2 搜索筛选
- 实时搜索
- 条件筛选
- 排序显示
- 保存筛选

### 5.3 播放控制
- 播放/暂停
- 进度控制
- 音量调节
- 播放速度

### 5.4 文件管理
- 导出文件
- 删除文件
- 移动文件
- 重命名

### 5.5 详情视图交互
- **音频控制**：
  - 播放/暂停
  - 快进/快退
  - 音量调节
  - 播放速度
  - 循环播放

- **文本操作**：
  - 文本选择
  - 复制文本
  - 编辑文本
  - 搜索文本
  - 导出文本

- **AI 操作**：
  - 重新生成摘要
  - 编辑任务
  - 添加标签
  - 更新状态

- **文件操作**：
  - 导出文件
  - 分享文件
  - 移动文件
  - 删除文件

## 6. 快捷键支持

- `Cmd+F`：搜索
- `Cmd+E`：导出
- `Cmd+Delete`：删除
- `Space`：播放/暂停
- `←/→`：上一个/下一个

### 6.1 详情视图快捷键
- `Space`：播放/暂停
- `←/→`：快退/快进
- `↑/↓`：音量调节
- `Cmd+F`：搜索文本
- `Cmd+C`：复制选中文本
- `Cmd+E`：编辑文本
- `Cmd+S`：保存更改
- `Esc`：返回列表

## 7. 性能要求

- 列表加载 < 1s
- 搜索响应 < 200ms
- 播放延迟 < 100ms
- 内存使用 < 300MB

### 7.1 详情视图性能
- 音频加载 < 1s
- 文本渲染 < 500ms
- 标签切换 < 200ms
- 内存使用 < 200MB

## 8. 数据管理

### 8.1 存储策略
- 本地存储
- 云同步
- 自动备份
- 清理策略

### 8.2 安全措施
- 访问控制
- 数据加密
- 操作日志
- 恢复机制

### 8.3 详情数据
- 自动保存
- 版本历史
- 修改记录
- 数据同步 